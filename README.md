# 1C-Bitrix (–ë–£–°)

‚úä –û–±—Ä–∞–∑ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø—Ä–æ—Ç–æ—Ç–∏–ø–∏—Ä–æ–≤–∞–Ω–∏—è –∞–∫—Ç—É–∞–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–∏ [1C-Bitrix: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∞–π—Ç–æ–º (–ë–£–°)][1] –ø–æ–¥ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é –≤–µ—Ä—Å–∏—é PHP.

üê≥ –û–±—Ä–∞–∑ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –≤ [Docker Hub][2] –∏ –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é.

‚ùó–ù–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ **Production** –æ–∫—Ä—É–∂–µ–Ω–∏–∏.

## üß± –°–æ—Å—Ç–∞–≤–ª—è—é—â–∏–µ –æ–±—Ä–∞–∑–∞

–û–±—Ä–∞–∑ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ —Å–ª–µ–¥—É—é—â–∏—Ö —Å–æ—Å—Ç–∞–≤–ª—è—é—â–∏—Ö:

1. **–¢–µ–≥–∏** ‚Äî –∫–∞–∂–¥—ã–π —Ç–µ–≥ –æ–±—Ä–∞–∑–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –æ—Ç–¥–µ–ª—å–Ω—É—é –≤–µ—Ä—Å–∏—é PHP. –¢–µ–≥ –≤—Å–µ–≥–¥–∞ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å –Ω–∞–∑–≤–∞–Ω–∏—è —è–∑—ã–∫–∞ –∏ –µ–≥–æ
   –≤–µ—Ä—Å–∏–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä: `php-8.3`. –°–ª–µ–¥—É—é—â–∞—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è —á–∞—Å—Ç—å –Ω–∞–∑–≤–∞–Ω–∏—è `fpm`, —á—Ç–æ —è–≤–ª—è–µ—Ç—Å—è —É–∫–∞–∑–∞—Ç–µ–ª–µ–º –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
   –ø—Ä–æ—Ü–µ—Å—Å–Ω–æ–≥–æ –º–µ–Ω–µ–¥–∂–µ—Ä–∞ –¥–ª—è –≤—ã—Å–æ–∫–æ–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π. –ù–∞–∑–≤–∞–Ω–∏–µ —Ç–µ–≥–∞ –æ–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è –Ω–∞–∑–≤–∞–Ω–∏–µ–º (–∫–æ–¥–æ–≤—ã–º –Ω–∞–∑–≤–∞–Ω–∏–µ–º)
   —Å–∏—Å—Ç–µ–º—ã –Ω–∞
   –∫–æ—Ç–æ—Ä–æ–π —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç—Å—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, –Ω–∞–ø—Ä–∏–º–µ—Ä: `bookworm` (Debian 12).
2. **Dockerfile** ‚Äî –≤ Dockerfile —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–∞–∫–µ—Ç—ã –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –¥–ª—è PHP. –ü—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –≤—Å–µ
   –ø–∞–∫–µ—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π.
3. **docker-entrypoint.sh** ‚Äî —Å–∫—Ä–∏–ø—Ç –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞. –û–Ω —Å–æ–¥–µ—Ä–∂–∏—Ç –ª–æ–≥–∏–∫—É –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ
   `–ë–£–°` –¥–ª—è —Ä–∞–±–æ—Ç—ã –∏–∑ –∫–æ—Ä–æ–±–∫–∏. –í –ø—Ä–æ—Ü–µ—Å—Å–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–∫–∞—á–∏–≤–∞–µ—Ç—Å—è –∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –∞–∫—Ç—É–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è `–ë–£–°` (–µ—Å–ª–∏ –µ—â–µ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞) –∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è –≤—Å–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

- üìÑ –°–æ–∑–¥–∞–π—Ç–µ –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ —Ñ–∞–π–ª `.env` —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏–∑ —Ç–∞–±–ª–∏—Ü—ã.

| –ù–∞–∑–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π | –û–ø–∏—Å–∞–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π                                                                                                                                                                                              | –¢—Ä–µ–±—É–µ—Ç—Å—è |
|:--------------------|:-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:----------|
| APP_PATH            | –ü—É—Ç—å –æ—Ç –∫–æ—Ä–Ω—è –¥–æ –ø—Ä–æ–µ–∫—Ç–∞ –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞                                                                                                                                                                       | ‚úÖ         |
| SERVER_NAME         | –•–æ—Å—Ç –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è                                                                                                                                                                                           | ‚úÖ         |
| BITRIX_VERSION      | [–í–µ—Ä—Å–∏—è –ë–£–°][3] (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `start_encode`); –¥–æ–ø—É—Å—Ç–∏–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è: `start_encode`, `standard_encode`, `small_business_encode`, `business_encode`, `bitrix24_shop_encode`, `business_cluster_postgresql_encode` | ‚ùå         |
| APP_DEBUG           | –í–∫–ª/–≤—ã–∫–ª —Ä–µ–∂–∏–º –¥–µ–±–∞–≥–∞ –¥–ª—è –ë–£–° (1 - –≤–∫–ª., 0 - –≤—ã–∫–ª.)                                                                                                                                                              | ‚ùå         |
| PHP_IDE_CONFIG      | –°–ø–µ—Ü. –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –¥–ª—è Xdebug (–±–µ–∑ —ç—Ç–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–µ –±—É–¥–µ—Ç)                                                                                                                                              | ‚ùå         |
| DB_USER             | –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –°–£–ë–î)                                                                                                                                                         | ‚ùå         |
| DB_PASSWORD         | –ü–∞—Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –°–£–ë–î)                                                                                                                                                      | ‚ùå         |
| DB_ROOT_PASSWORD    | –°–µ–∫—Ä–µ—Ç–Ω—ã–π –ø–∞—Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –°–£–ë–î)                                                                                                                                            | ‚ùå         |
| DB_DATABASE         | –ù–∞–∑–≤–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –°–£–ë–î)                                                                                                                                                                     | ‚ùå         |
| DB_HOST             | –•–æ—Å—Ç –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (—Ö–æ—Å—Ç–æ–º –ë–î —è–≤–ª—è–µ—Ç—Å—è –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –°–£–ë–î –∏–∑ docker-compose.yml; –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –°–£–ë–î)                                                                                                      | ‚ùå         |

üëá –ü—Ä–∏–º–µ—Ä `.env` —Ñ–∞–π–ª–∞:

```
APP_PATH=/pub/www/app  
SERVER_NAME=app.local  
BITRIX_VERSION=small_business_encode  
  
DB_USER=db_user
DB_PASSWORD=db_password
DB_DATABASE=sitemanager
DB_ROOT_PASSWORD=secret
DB_HOST=database
  
APP_DEBUG=1
```

- üìÑ –°–æ–∑–¥–∞–π—Ç–µ –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ —Ñ–∞–π–ª `bx.cnf`, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –°–£–ë–î `MySQL` –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–π —Ä–∞–±–æ—Ç—ã.

```
[mysqld]  
  
# STRICT_TRANS_TABLES ‚Äî —Å—Ç—Ä–æ–≥–∏–π —Ä–µ–∂–∏–º –¥–ª—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–∞–±–ª–∏—Ü:  
# –ó–∞–ø—Ä–µ—â–∞–µ—Ç –≤—Å—Ç–∞–≤–∫—É –Ω–µ–≤–∞–ª–∏–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å—Ç—Ä–æ–∫—É –≤ —á–∏—Å–ª–æ–≤–æ–µ –ø–æ–ª–µ)  
# –ü—Ä–µ—Ä—ã–≤–∞–µ—Ç INSERT/UPDATE –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö –≤–º–µ—Å—Ç–æ –º–æ–ª—á–∞–ª–∏–≤–æ–≥–æ —É—Å–µ—á–µ–Ω–∏—è  
# –ó–∞—â–∏—â–∞–µ—Ç –æ—Ç –ø–æ—Ç–µ—Ä–∏ –¥–∞–Ω–Ω—ã—Ö  
  
# NO_ENGINE_SUBSTITUTION ‚Äî –∑–∞–ø—Ä–µ—â–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –∑–∞–º–µ–Ω—É –¥–≤–∏–∂–∫–æ–≤:  
# –ï—Å–ª–∏ —É–∫–∞–∑–∞–Ω –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –¥–≤–∏–∂–æ–∫ —Ç–∞–±–ª–∏—Ü—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, ENGINE=MyISAM –ø—Ä–∏ –µ–≥–æ –æ—Ç–∫–ª—é—á–µ–Ω–∏–∏)  
# –í—ã–¥–∞–µ—Ç –æ—à–∏–±–∫—É –≤–º–µ—Å—Ç–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –∑–∞–º–µ–Ω—ã –Ω–∞ –¥–≤–∏–∂–æ–∫ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é  
  
sql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES  
  
# –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ UTF-8 (4 –±–∞–π—Ç–∞ –Ω–∞ —Å–∏–º–≤–æ–ª)  
# –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤—Å–µ —Å–∏–º–≤–æ–ª—ã Unicode, –≤–∫–ª—é—á–∞—è —ç–º–æ–¥–∑–∏, –∏–µ—Ä–æ–≥–ª–∏—Ñ—ã –∏ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã  
# –í –æ—Ç–ª–∏—á–∏–µ –æ—Ç utf8 (–∫–æ—Ç–æ—Ä—ã–π –≤ MySQL —Ç–æ–ª—å–∫–æ 3-–±–∞–π—Ç–æ–≤—ã–π)  
  
character-set-server=utf8mb4  
  
# –†–µ–≥–∏—Å—Ç—Ä–æ–Ω–µ–∑–∞–≤–∏—Å–∏–º–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –¥–ª—è utf8mb4  
# –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –º–Ω–æ–≥–æ—è–∑—ã—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö  
# –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —è–∑—ã–∫–æ–≤  
  
collation-server=utf8mb4_unicode_ci  
  
# –ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å –ú–æ—Å–∫–≤—ã —Å —É—á–µ—Ç–æ–º –ª–µ—Ç–Ω–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏  
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –Ω–∞ –∑–∏–º–Ω–µ–µ/–ª–µ—Ç–Ω–µ–µ –≤—Ä–µ–º—è  
# –õ—É—á—à–µ —á–µ–º +03:00, —Ç–∞–∫ –∫–∞–∫ —É—á–∏—Ç—ã–≤–∞–µ—Ç –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è  
  
default-time-zone=Europe/Moscow  
  
# –£–≤–µ–ª–∏—á–µ–Ω–Ω—ã–π –ª–∏–º–∏—Ç –¥–æ 256 –ú–ë  
# –î–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–æ–ª—å—à–∏–º–∏ BLOB, –º–µ–¥–∏–∞—Ñ–∞–π–ª–∞–º–∏, –¥–ª–∏–Ω–Ω—ã–º–∏ —Ç–µ–∫—Å—Ç–∞–º–∏  
# –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–ª—è –∏–º–ø–æ—Ä—Ç–∞/—ç–∫—Å–ø–æ—Ä—Ç–∞ –±–æ–ª—å—à–∏—Ö –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö  
  
max_allowed_packet = 256M  
  
# –†–∞–∑–º–µ—Ä –∫—ç—à–∞ InnoDB ‚Äî 1 –≥–∏–≥–∞–±–∞–π—Ç  
# –•—Ä–∞–Ω–∏—Ç –≤ RAM: –∏–Ω–¥–µ–∫—Å—ã, –¥–∞–Ω–Ω—ã–µ, –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–µ —Ö—ç—à–∏  
# –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏  
# –û–±—ã—á–Ω–æ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç 50-80% –æ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ–π RAM  
  
innodb_buffer_pool_size = 1G  
  
# –†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–æ–≤ –∂—É—Ä–Ω–∞–ª–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π ‚Äî 256 –ú–ë  
# –ë–æ–ª—å—à–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è —É–º–µ–Ω—å—à–∞—é—Ç —á–∞—Å—Ç–æ—Ç—É checkpoint'–æ–≤  
# –£–ª—É—á—à–∞–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø—Ä–∏ –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ–π –∑–∞–ø–∏—Å–∏  
# –¢—Ä–µ–±—É–µ—Ç –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ MySQL –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è  
  
innodb_log_file_size = 256M
```

- üìÑ –°–æ–∑–¥–∞–π—Ç–µ –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ —Ñ–∞–π–ª `docker-compose.yml`, –∫–æ—Ç–æ—Ä—ã–π –æ–ø–∏—Å—ã–≤–∞–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∑–∞–ø—É—Å–∫–∞ –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

üëá –ü—Ä–∏–º–µ—Ä `docker-compose.yml` —Ñ–∞–π–ª–∞ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º **MySQL** –≤ –∫–∞—á–µ—Å—Ç–≤–µ –°–£–ë–î –Ω–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –í –ø–æ–ª–µ `image` –¥–ª—è
`application` –∑–∞–º–µ–Ω–∏—Ç–µ —á–∞—Å—Ç—å `php-8.3-fpm-bookworm` –Ω–∞ –ª—é–±–æ–π —Ç–µ–≥ –æ–±—Ä–∞–∑–∞, –∫–æ—Ç–æ—Ä—ã–π –≤–∞—Å –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç (–º–æ–∂–µ—Ç–µ –æ—Å—Ç–∞–≤–∏—Ç—å —ç—Ç–æ—Ç
—Ç–µ–≥, –µ—Å–ª–∏ –æ–Ω –¥–æ—Å—Ç—É–ø–µ–Ω –∏ –≤—ã –≥–æ—Ç–æ–≤—ã –µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å):

```yml
services:

  application:
    image: armhaina/bitrix:php-8.3-fpm-bookworm
    working_dir: ${APP_PATH}
    env_file: .env
    environment:
      PHP_IDE_CONFIG: serverName=${SERVER_NAME}
    extra_hosts:
      - "host.docker.internal:host-gateway"
    ports:
      - "80:80"
    volumes:
      - ./app:${APP_PATH}:cached
    depends_on:
      - database

  database:
    image: mysql:8.0
    environment:
      MYSQL_ROOT_PASSWORD: ${DB_ROOT_PASSWORD}
      MYSQL_DATABASE: ${DB_DATABASE}
      MYSQL_USER: ${DB_USER}
      MYSQL_PASSWORD: ${DB_PASSWORD}
    ports:
      - "3306:3306"
    volumes:
      - ./bx.cnf:/etc/mysql/conf.d/bx.cnf
```

- üìÑ –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–±–æ—Ä–∫—É –ø—Ä–æ–µ–∫—Ç–∞ –∫–æ–º–∞–Ω–¥–æ–π –∏–∑ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞.

```bash
docker compose up -d --build --remove-orphans
```

–í –ª–æ–≥–∞—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ `application` –≤–∞–º –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø—Ä–æ—Ü–µ—Å—Å —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ–º —Å–±–æ—Ä–∫–∏ –º–æ–∂–Ω–æ —Å—á–∏—Ç–∞—Ç—å –ø–æ—è–≤–ª–µ–Ω–∏–µ
—Ñ—Ä–∞–∑—ã: `[–£–°–ü–ï–•] –ó–∞–ø—É—Å–∫–∞–µ–º supervisord` –Ω–∞ –∑–µ–ª–µ–Ω–æ–º —Ñ–æ–Ω–µ (–≤ –ª–æ–≥–∞—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ `application`).

üòé –ï—Å–ª–∏ —Å–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∞, —Ç–æ –º–æ–∂–µ—Ç–µ –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É `http://localhost` –∏–ª–∏ `http://SERVER_NAME` (
–∑–∞–º–µ–Ω–∏—Ç—å **SERVER_NAME** –Ω–∞ —Ö–æ—Å—Ç –∏–∑ `.env` —Ñ–∞–π–ª–∞). –í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å —Å—Ç–∞—Ä—Ç–æ–≤—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É —É—Å—Ç–∞–Ω–æ–≤–∫–∏ `–ë–£–°`.

1. –ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ `–ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞` –≤—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ –¥–æ—Å—Ç—É–ø—ã –∫ –¥–∏—Å–∫—É –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤—ã–¥–µ–ª–µ–Ω—ã –∑–µ–ª–µ–Ω—ã–º
   —Ü–≤–µ—Ç–æ–º.
2. –ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ `–°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö` —É–∫–∞–∑–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ –¥–∞–Ω–Ω—ã–µ: `–°–µ—Ä–≤–µ—Ä` (–Ω–∞–∑–≤–∞–Ω–∏–µ –≤–∞—à–µ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –°–£–ë–î; –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑
   –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π DB_HOST), `–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è` (–∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π DB_USER), `–ü–∞—Ä–æ–ª—å` (–∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π
   DB_PASSWORD), `–ò–º—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö` (–∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π DB_DATABASE). –ë–æ–ª—å—à–µ –Ω–∏—á–µ–≥–æ –º–µ–Ω—è—Ç—å –Ω–µ –Ω–∞–¥–æ.
3. –ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ `–í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏` –≤—ã–±–µ—Ä–∏—Ç–µ –ª—é–±–æ–π –∏–∑ –≥–æ—Ç–æ–≤—ã—Ö —à–∞–±–ª–æ–Ω–æ–≤ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ù–ï –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
   `–ó–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑ –ú–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å`, —Ç–∞–∫ –∫–∞–∫ —ç—Ç–∏ —à–∞–±–ª–æ–Ω—ã –æ—Ç —Å—Ç–æ—Ä–æ–Ω–Ω–∏—Ö —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –∏ –º–æ–≥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –æ—à–∏–±–∫–∏).
4. –ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ë–£–° –≤—ã –ø–æ–ø–∞–¥–µ—Ç–µ –Ω–∞ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤–∞—à–µ–≥–æ —Å–∞–π—Ç–∞ —Å –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–º —à–∞–±–ª–æ–Ω–æ–º. –î–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞ –≤
   –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –ë–£–° –ø–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É `http://localhost/bitrix` –∏–ª–∏ `http://SERVER_NAME/bitrix`
5. üî•**–ë–£–°** —É—Å–ø–µ—à–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω!

## üõ†Ô∏è –î–æ–ø. –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### ‚öôÔ∏è –ó–∞–º–µ–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ –∫–æ–Ω—Ñ–∏–≥–∞—Ö –Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–∑ .env

üëá –°–ª–µ–¥—É—é—â–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ —Ñ–∞–π–ª–µ `/bitrix/.settings.php` –∑–∞–º–µ–Ω–∏—Ç—å:

```php
[  
  'debug' => (bool)$_ENV["APP_DEBUG"], # –µ—Å–ª–∏ —É–∫–∞–∑—ã–≤–∞–ª–∏ APP_DEBUG –≤ .env   
];
```

```php
[  
  'host' => $_ENV["DB_HOST"],  
  'database' => $_ENV["DB_DATABASE"],  
  'login' => $_ENV["DB_USER"],  
  'password' => $_ENV["DB_PASSWORD"],  
];
```

üëá –°–ª–µ–¥—É—é—â–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ —Ñ–∞–π–ª–µ`/bitrix/php_interface/dbconn.php`–∑–∞–º–µ–Ω–∏—Ç—å:

```php
$DBDebug = (bool)$_ENV["APP_DEBUG"];  
$DBDebugToFile = (bool)$_ENV["APP_DEBUG"];
```

### üêû –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Xdebug (PHPStorm)

1. –£ –≤–∞—Å –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–∞ –∫–Ω–æ–ø–∫–∞ `Start listening for PHP Debug Connections`
2. –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É `http://SERVER_NAME` –≤ –±—Ä–∞—É–∑–µ—Ä–µ –∏ –≤ —Å–∞–º–æ–π IDE –¥–æ–ª–∂–Ω–æ –æ—Ç–∫—Ä—ã—Ç—å—Å—è –æ–∫–Ω–æ, –≥–¥–µ –±—É–¥–µ—Ç –≤–∫–ª–∞–¥–∫–∞
   `Threads & Variables`
3. –í–Ω—É—Ç—Ä–∏ –≤–∫–ª–∞–¥–∫–∏ –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –Ω–∞–∂–∞—Ç—å –Ω–∞ `Configure servers` –∏ –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –æ–∫–Ω–µ –Ω–∞ `+`
4. –í –ø–æ–ª–µ `Name` –∏ `Host` –≤—Å—Ç–∞–≤—å—Ç–µ —Ö–æ—Å—Ç –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–∑–Ω–∞—á–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π **SERVER_NAME**) –∏ –Ω–∞–∂–º–∏—Ç–µ `OK`
5. –í–æ –≤–∫–ª–∞–¥–∫–µ `Threads & Variables` —Ç–µ–ø–µ—Ä—å –ø–æ—è–≤–∏—Ç—Å—è –∫–Ω–æ–ø–∫–∞ `Click to set up path mappings` –Ω–∞ –∫–æ—Ç–æ—Ä—É—é –Ω–∞–¥–æ –Ω–∞–∂–∞—Ç—å
6. –í –æ—Ç–∫—Ä—ã—Ç–æ–º –æ–∫–Ω–µ –ø–æ—Å—Ç–∞–≤–∏—Ç—å –≥–∞–ª–æ—á–∫—É –≤ `Use path mappings (select if the server is remote or symlinks are used)`
7. –í –ø–æ–ª–µ `Absolute path on the server` –≤—ã–±—Ä–∞—Ç—å –ø—É—Ç—å (–µ—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π **APP_PATH** –±—ã–ª–∞ –∏–∑ –ø—Ä–∏–º–µ—Ä–∞, —Ç–æ –≤—ã–±–∏—Ä–∞–µ–º
   –ø—É—Ç—å `/pub/www`) –∏ –Ω–∞–∂–∏–º–∞–µ–º `OK`
8. üî•**Xdebug** –Ω–∞—Å—Ç—Ä–æ–µ–Ω!

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

[![–õ–∏—Ü–µ–Ω–∑–∏—è MIT](https://img.shields.io/badge/License-MIT-blue.svg)](LICENSE)

–†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π MIT.

**–ö—Ä–∞—Ç–∫–æ –æ –ª–∏—Ü–µ–Ω–∑–∏–∏ MIT:**

- ‚úÖ –ú–æ–∂–Ω–æ —Å–≤–æ–±–æ–¥–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å, –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å, –∏–∑–º–µ–Ω—è—Ç—å, —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è—Ç—å
- ‚úÖ –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö
- ‚úÖ –ù–µ –Ω—É–∂–Ω–æ –æ—Ç–∫—Ä—ã–≤–∞—Ç—å –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –ø—Ä–æ–∏–∑–≤–æ–¥–Ω—ã—Ö —Ä–∞–±–æ—Ç
- üìã –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ —É—Å–ª–æ–≤–∏–µ ‚Äî —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± –∞–≤—Ç–æ—Ä—Å–∫–∏—Ö –ø—Ä–∞–≤–∞—Ö –∏ –ª–∏—Ü–µ–Ω–∑–∏–∏

–ü–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç –ª–∏—Ü–µ–Ω–∑–∏–∏ –¥–æ—Å—Ç—É–ø–µ–Ω –≤ —Ñ–∞–π–ª–µ [LICENSE](LICENSE)

[1]: https://www.1c-bitrix.ru/products/cms
[2]: https://hub.docker.com/repository/docker/armhaina/bitrix
[3]: https://www.1c-bitrix.ru/download/cms.php#tab-subsection-3